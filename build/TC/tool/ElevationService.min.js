TC.tool=TC.tool||{};TC.tool.ElevationService=function(o){const e=this;e.options=o||{};e.url=e.options.url;e.process=e.options.process;e.minimumElevation=e.options.minimumElevation;$.isFunction(e.options.request)&&(e.request=e.options.request);$.isFunction(e.options.parseResponse)&&(e.parseResponse=e.options.parseResponse)};!function(){const o=TC.tool.ElevationService.prototype;o.getElevation=function(o){const e=this;void 0===(o=o||{}).resolution&&(o.resolution=e.options.resolution);void 0===o.sampleNumber&&(o.sampleNumber=e.options.sampleNumber);return new Promise(function(n,t){TC.loadJS(!TC.Geometry,TC.apiLocation+"TC/Geometry",function(){e.request(o).then(function(t){n((o.responseCallback||e.parseResponse).call(e,t,o))}).catch(function(o){t(Error(o))})})})};o.request=function(o){const e=this;o=o||{};return new Promise(function(n,t){o.dataInputs||o.body?TC.loadJS(!TC.format||!TC.format.WPS,TC.apiLocation+"TC/format/WPS",function(){const s={process:o.process||e.process,dataInputs:o.dataInputs,responseType:TC.Consts.mimeType.JSON,version:o.serviceVersion||e.serviceVersion||"1.0.0",output:o.output},i="boolean"==typeof o.contentType?o.contentType:o.contentType||TC.Consts.mimeType.XML;TC.ajax({url:e.url,method:"POST",contentType:i,responseType:TC.Consts.mimeType.JSON,data:o.body||TC.format.WPS.buildExecuteQuery(s)}).then(function(o){n(o)},function(o){t(Error(o))})}):t()})};o.parseResponse=function(o,e){var n=this;if(o.coordinates){o.coordinates.forEach(function(o){o[2]<n.minimumElevation&&(o[2]=null)})}return o.coordinates||[]}}();
//# sourceMappingURL=../maps/tool/ElevationService.min.js.map
