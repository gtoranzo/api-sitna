TC.control=TC.control||{};TC.control.Container||TC.syncLoadJS(TC.apiLocation+"TC/Control/Container");TC.control.ControlContainer=function(){var t=this;TC.control.Container.apply(t,arguments);t._classSelector="."+t.CLASS;if(!Array.isArray(t.controlOptions)){console.log("Gestionamos config de controlContainer antiguo");var n=[];Object.keys(t.controlOptions).forEach(o=>{const e=t.controlOptions[o];var i={position:e.side};i[o]=e.options;n.push(i)});t.controlOptions=n}};TC.inherit(TC.control.ControlContainer,TC.control.Container);!function(){var t=TC.control.ControlContainer.prototype;t.CLASS="tc-ctl-cctr";t.POSITION={LEFT:"left",RIGHT:"right"};t.SIDE=t.POSITION;t.template={};t.template[t.CLASS]=function(){dust.register(t.CLASS,n);function n(t,n){return t.w('<ul class="tc-ctl-cctr-left">').s(n.get(["controls"],!1),n,{block:o},{}).w('</ul><ul class="tc-ctl-cctr-right">').s(n.get(["controls"],!1),n,{block:i},{}).w("</ul>")}n.__dustBody=!0;function o(t,n){return t.h("eq",n,{block:e},{key:n.get(["position"],!1),value:"left"})}o.__dustBody=!0;function e(t,n){return t.w('<li class="tc-ctl-cctr-elm tc-ctl-cctr-elm-').f(n.get(["index"],!1),n,"h").w('"><div></div></li>')}e.__dustBody=!0;function i(t,n){return t.h("eq",n,{block:r},{key:n.get(["position"],!1),value:"right"})}i.__dustBody=!0;function r(t,n){return t.w('<li class="tc-ctl-cctr-elm tc-ctl-cctr-elm-').f(n.get(["index"],!1),n,"h").w('"><div></div></li>')}r.__dustBody=!0;return n};t.template[t.CLASS+"-node"]=function(){dust.register(t.CLASS+"-node",n);function n(t,n){return t.w('<li class="tc-ctl-cctr-elm tc-ctl-cctr-elm-').f(n.get(["index"],!1),n,"h").w('"><div></div></li>')}n.__dustBody=!0;return n};t.onRenderPromise=function(){const t=this;for(var n=new Array(t.ctlCount),o=0,e=t.controlOptions.length;o<e;o++){var i=t.controlOptions[o],r=Object.keys(i).filter(t=>["position","index"].indexOf(t)<0)[0];n[o]=t.map.addControl(r,TC.Util.extend({id:t.uids[o],div:t.div.querySelector("."+t.CLASS+"-elm-"+o).querySelector("div")},i[r]))}Promise.all(n).then(function(){for(var n=0,o=arguments.length;n<o;n++){arguments[n].containerControl=t}})};t.render=function(t){const n=this;return n._set1stRenderPromise(n.renderData({controls:Object.keys(n.controlOptions).map(function(t,o){return TC.Util.extend(n.controlOptions[t],{index:o})})}))};t.addControl=function(t,n){const o=this;n.position=n.position||n.side||o.POSITION.LEFT;return new Promise(function(e,i){o.getRenderedHtml(o.CLASS+"-node",{index:++o.ctlCount},function(i){var r=document.createElement("template");r.innerHTML=i.trim();o.div.querySelector("ul."+o.CLASS+"-"+n.position).appendChild(r.content?r.content.firstChild:r.firstChild);o.map.addControl(t,TC.Util.extend({id:o.getUID(),div:o.div.querySelector("."+o.CLASS+"-elm-"+o.ctlCount).querySelector("div")},n)).then(function(t){e(t)})})})};t.addElement=function(t){t.position=t.position||t.side||this.POSITION.LEFT;var n=document.createElement("li");n.setAttribute("class",this.CLASS+"-elm "+this.CLASS+"-elm-"+this.ctlCount+++" ");this.div.querySelector("ul."+this.CLASS+"-"+t.position).appendChild(n);var o=n.appendChild(t.htmlElement);o.setAttribute("class",o.getAttribute("class")+" tc-ctl");return o}}();
//# sourceMappingURL=../maps/control/ControlContainer.min.js.map