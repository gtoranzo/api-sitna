TC.control=TC.control||{};TC.control.Container||TC.syncLoadJS(TC.apiLocation+"TC/Control/Container");TC.control.ControlContainer=function(){TC.control.Container.apply(this,arguments);this._classSelector="."+this.CLASS};TC.inherit(TC.control.ControlContainer,TC.control.Container);!function(){var t=TC.control.ControlContainer.prototype;t.CLASS="tc-ctl-cctr";t.SIDE={LEFT:"left",RIGHT:"right"};t.template={};if(TC.isDebug){t.template[t.CLASS]=TC.apiLocation+"TC/templates/ControlContainer.html";t.template[t.CLASS+"-node"]=TC.apiLocation+"TC/templates/ControlContainerNode.html"}else{t.template[t.CLASS]=function(){dust.register(t.CLASS,e);function e(t,e){return t.write('<ul class="tc-ctl-cctr-left">').section(e.get("controls"),e,{block:n},null).write('</ul><ul class="tc-ctl-cctr-right">').section(e.get("controls"),e,{block:o},null).write("</ul>")}function n(t,e){return t.helper("eq",e,{block:r},{key:e.get("side"),value:"left"})}function r(t,e){return t.write('<li class="tc-ctl-cctr-elm tc-ctl-cctr-elm-').reference(e.get("index"),e,"h").write('"><div></div></li>')}function o(t,e){return t.helper("eq",e,{block:i},{key:e.get("side"),value:"right"})}function i(t,e){return t.write('<li class="tc-ctl-cctr-elm tc-ctl-cctr-elm-').reference(e.get("index"),e,"h").write('"><div></div></li>')}return e};t.template[t.CLASS+"-node"]=function(){dust.register(t.CLASS+"-node",e);function e(t,e){return t.w('<li class="tc-ctl-cctr-elm tc-ctl-cctr-elm-').f(e.get(["index"],!1),e,"h").w('"><div></div></li>')}e.__dustBody=!0;return e}}t.onRenderPromise=function(){const t=this;var e=new Array(t.ctlCount);Object.keys(t.controlOptions).forEach(function(n,r){var o=t.controlOptions[n];e[r]=t.map.addControl(n,$.extend({id:t.uids[r],div:t.div.querySelector("."+t.CLASS+"-elm-"+r).querySelector("div")},o.options))});Promise.all(e).then(function(){for(var e=0,n=arguments.length;e<n;e++){arguments[e].containerControl=t}})};t.render=function(t){const e=this;return e._set1stRenderPromise(e.renderData({controls:Object.keys(e.controlOptions).map(function(t,n){return $.extend(e.controlOptions[t],{index:n})})}))};t.addControl=function(t,e){const n=this;e.side=e.side||n.SIDE.LEFT;return new Promise(function(r,o){n.getRenderedHtml(n.CLASS+"-node",{index:++n.ctlCount},function(o){var i=document.createElement("template");i.innerHTML=o.trim();n.div.querySelector("ul."+n.CLASS+"-"+e.side).appendChild(i.content?i.content.firstChild:i.firstChild);n.map.addControl(t,$.extend({id:n.getUID(),div:n.div.querySelector("."+n.CLASS+"-elm-"+n.ctlCount).querySelector("div")},e)).then(function(t){r(t)})})})};t.addElement=function(t){t.side=t.side||this.SIDE.LEFT;var e=document.createElement("li");e.setAttribute("class",this.CLASS+"-elm "+this.CLASS+"-elm-"+this.ctlCount+++" ");this.div.querySelector("ul."+this.CLASS+"-"+t.side).appendChild(e);var n=e.appendChild(t.htmlElement);n.setAttribute("class",n.getAttribute("class")+" tc-ctl");return n}}();
//# sourceMappingURL=../maps/Control/ControlContainer.min.js.map
