TC.control=TC.control||{};TC.control.Container||TC.syncLoadJS(TC.apiLocation+"TC/Control/Container");TC.control.TabContainer=function(){TC.control.Container.apply(this,arguments);var t=this._classSelector="."+this.CLASS;this._selectors={TAB:t+"-tab",RADIOBUTTON:"input[type=radio][name=sctnr-sel]",ELEMENT:t+"-elm"}};TC.inherit(TC.control.TabContainer,TC.control.Container);!function(){var t=TC.control.TabContainer.prototype;t.CLASS="tc-ctl-tctr";TC.isDebug?t.template=TC.apiLocation+"TC/templates/TabContainer.html":t.template=function(){dust.register(t.CLASS,e);function e(t,e){return t.w("<h2>").f(e.get(["title"],!1),e,"h").w('</h2><div class="tc-ctl-tctr-select"><form>').s(e.get(["controls"],!1),e,{block:n},{}).w("</form></div>").s(e.get(["controls"],!1),e,{block:o},{})}e.__dustBody=!0;function n(t,e){return t.w('<label class="tc-ctl-tctr-tab tc-ctl-tctr-tab-').f(e.get(["$idx"],!1),e,"h").w('" style="width:calc(100%/').f(e.get(["$len"],!1),e,"h").w(' - 1px)"><input type="radio" name="sctnr-sel" value="').f(e.get(["$idx"],!1),e,"h").w('" /><span>').f(e.get(["title"],!1),e,"h").w("</span></label>")}n.__dustBody=!0;function o(t,e){return t.w('<div class="tc-ctl-tctr-elm tc-ctl-tctr-elm-').f(e.get(["$idx"],!1),e,"h").w(' tc-hidden"></div>')}o.__dustBody=!0;return e};t.onRenderPromise=function(){const t=this;t.title=t.title||t.getLocaleString(t.options.title||"moreControls");t.div.querySelector("h2").innerHTML=t.title;for(var e=new Array(t.ctlCount),n=0,o=t.controlOptions.length;n<o;n++){var r=t.controlOptions[n];e[n]=t.map.addControl(r.name,$.extend({id:t.uids[n],div:t.div.querySelector("."+t.CLASS+"-elm-"+n)},r.options))}var l=function(e,n){e.renderPromise().then(function(){const o=t.getLocaleString(t.controlOptions[n].title)||e.div.querySelector("h2").innerHTML;var r=e.div;do{r=r.parentElement}while(r&&!r.matches(t._classSelector));r.querySelector(t._selectors.TAB+"-"+n+" span").innerHTML=o})};Promise.all(e).then(function(e){for(var n=0,o=e.length;n<o;n++){var r=e[n];r.containerControl=t;l(r,n)}})};t.render=function(t){const e=this;return e._set1stRenderPromise(e.renderData({title:e.title,controls:e.controlOptions},function(){var t=function(t){for(var n=this;n&&!n.matches(e._selectors.TAB);)n=n.parentElement;var o,r=[];const l=n.querySelector(e._selectors.RADIOBUTTON),c=l.value,s=e.div.querySelectorAll(e._selectors.ELEMENT);if(e._oldValue===c&&e.options.deselectable){setTimeout(function(){l.checked=!1},0);e._oldValue=null;o=null;r=s}else{s.forEach(function(t){t.matches(e._selectors.ELEMENT+"-"+c)?o=t:r.push(t)});e._oldValue=c}o&&o.classList.remove(TC.Consts.classes.HIDDEN);r.forEach(function(t){t.classList.add(TC.Consts.classes.HIDDEN)});l.checked=!0};e.div.querySelectorAll("span").forEach(function(e){e.addEventListener(TC.Consts.event.CLICK,t)});"number"==typeof e.defaultSelection&&t.call(e.div.querySelectorAll(e._selectors.RADIOBUTTON)[e.defaultSelection])}))}}();
//# sourceMappingURL=../maps/Control/TabContainer.min.js.map
