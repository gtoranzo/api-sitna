TC.control=TC.control||{};TC.Control||TC.syncLoadJS(TC.apiLocation+"TC/Control");TC.control.FullScreen=function(){TC.Control.apply(this,arguments)};TC.inherit(TC.control.FullScreen,TC.Control);!function(){var e=TC.control.FullScreen.prototype;e.CLASS="tc-ctl-fscreen";e.template=function(){dust.register(e.CLASS,n);function n(e,n){return e.w('<button class="tc-ctl-fscreen-btn" title="').h("i18n",n,{},{$key:"fscreen.tip"}).w('"></button>')}n.__dustBody=!0;return n};const n={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},l=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],r=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],t=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},c="fullscreenEnabled"in s&&Object.keys(n)||l[0]in s&&l||r[0]in s&&r||t[0]in s&&t||[];e.fscreen={inFullscreen:!1,requestFullscreen:e=>e[c[n.requestFullscreen]](),requestFullscreenFunction:e=>e[c[n.requestFullscreen]],get exitFullscreen(){return s[c[n.exitFullscreen]].bind(s)},addEventListener:(e,l,r)=>s.addEventListener(c[n[e]],l,r),removeEventListener:(e,l,r)=>s.removeEventListener(c[n[e]],l,r),get fullscreenEnabled(){return Boolean(s[c[n.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[c[n.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+c[n.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+c[n.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s["on"+c[n.fullscreenerror].toLowerCase()]},set onfullscreenerror(e){return s["on"+c[n.fullscreenerror].toLowerCase()]=e}};e.register=function(e){const n=this,l=TC.Control.prototype.register.call(n,e);l.then(function(){const e=n.div.querySelector("."+n.CLASS+"-btn");if(n.fscreen.fullscreenEnabled){n.fscreen.addEventListener("fullscreenchange",function(){n.fscreen.inFullscreen=null!==n.fscreen.fullscreenElement;e.classList.toggle(TC.Consts.classes.ACTIVE,n.fscreen.inFullscreen);e.setAttribute("title",n.fscreen.inFullscreen?n.getLocaleString("fscreen.tip.return"):n.getLocaleString("fscreen.tip"))},!1);e.addEventListener("click",function(){n.fscreen.inFullscreen?n.fscreen.exitFullscreen():n.fscreen.requestFullscreen(n.map.div)},!1)}else n.disable()});return l}}();
//# sourceMappingURL=../maps/control/FullScreen.min.js.map