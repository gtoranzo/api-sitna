{"version":3,"sources":["feature/Marker.js"],"names":["TC","feature","Point","syncLoadJS","apiLocation","Marker","coords","options","Feature","apply","this","arguments","wrap","isNative","_wrap","opts","$","extend","Cfg","styles","marker","locale","layer","map","title","i18n","Consts","MARKER","createMarker","inherit","prototype","STYLETYPE","CLASSNAME"],"mappings":"AAACA,GAAGC,QAAUD,GAAGC,YAEZD,GAAGC,QAAQC,OACZF,GAAGG,WAAWH,GAAGI,YAAc,oBA0DnCJ,GAAGC,QAAQI,OAAS,SAAUC,EAAQC,GAGlCP,GAAGQ,QAAQC,MAFAC,KAEYC,WAEvB,GAJWD,KAIFE,KAAKC,SAASP,GAAS,CAC5BA,EAAOQ,MALAJ,KAKaE,KALbF,KAMFE,KAAKX,QAAUK,MAEnB,CACD,IAAIS,EATGL,KASSH,QAAUS,EAAEC,QAAO,EAT5BP,KASuCH,QAASP,GAAGkB,IAAIC,OAAOC,OAAQb,GACzEc,EAVGX,KAUWY,OAVXZ,KAUyBY,MAAMC,IAV/Bb,KAU0CY,MAAMC,IAAIhB,QAAQc,OAAQrB,GAAGkB,IAAIG,OAV3EX,KAWFc,MAAQT,EAAKS,OAASxB,GAAGyB,KAAKJ,GAAQrB,GAAG0B,OAAOC,QAX9CjB,KAYFE,KAAKgB,aAAatB,EAAQS,KAIvCf,GAAG6B,QAAQ7B,GAAGC,QAAQI,OAAQL,GAAGC,QAAQC,OAEzCF,GAAGC,QAAQI,OAAOyB,UAAUC,UAAY,SAExC/B,GAAGC,QAAQI,OAAOyB,UAAUE,UAAY","sourcesContent":["TC.feature = TC.feature || {};\r\n\r\nif (!TC.feature.Point) {\r\n    TC.syncLoadJS(TC.apiLocation + 'TC/feature/Point');\r\n}\r\n\r\n/**\r\n * <p>Opciones de estilo de marcador (punto de mapa con icono). Esta clase no tiene constructor.</p>\r\n * @class TC.cfg.MarkerStyleOptions\r\n * @static\r\n */\r\n/**\r\n * URL de la imagen del icono del marcador.\r\n * @property url\r\n * @type string\r\n */\r\n/**\r\n * Clase CSS de la que obtener el icono del marcador, extrayendo la URL de la imagen del atributo <code>background-image</code> asociado a la clase.\r\n * @property cssClass\r\n * @type string\r\n * @default \"tc-marker1\"\r\n */\r\n/**\r\n * Lista de nombres de clase CSS a utilizar para los iconos de los marcadores. La API extraerá la URL de las imágenes del atributo <code>background-image</code> asociado a la clase.\r\n * @property classes\r\n * @type array\r\n * @default [\"tc-marker1\", \"tc-marker2\", \"tc-marker3\", \"tc-marker4\", \"tc-marker5\"]\r\n */\r\n/**\r\n * Posicionamiento relativo del icono respecto al punto del mapa, representado por un array de dos números entre 0 y 1, siendo [0, 0] la esquina superior izquierda del icono.\r\n * @property anchor\r\n * @type array\r\n * @default [.5, 1]\r\n */\r\n/**\r\n * Anchura en píxeles del icono.\r\n * @property width\r\n * @type number\r\n * @default 32\r\n */\r\n/**\r\n * Altura en píxeles del icono.\r\n * @property height\r\n * @type number\r\n * @default 32\r\n */\r\n/**\r\n * Nombre del grupo en el que incluir el marcador. Los grupos de marcadores son entidades para facilitar la organización de estos: \r\n * por un lado, un grupo se mostrará en la tabla de contenidos y en la leyenda, por otro, si no se especifica explícitamente un icono para el marcador, \r\n * todos los marcadores del mismo grupo tendrán el mismo icono. La asignación de icono a grupo se hará rotando entre los elementos de la propiedad \r\n * {{#crossLink \"TC.cfg.MarkerStyleOptions/classes:property\"}}{{/crossLink}}.\r\n * @property group\r\n * @type string\r\n * @default 32\r\n */\r\n\r\n/*\r\n * Map marker, with icon\r\n * Parameters: coords, 2 element array of numbers or OpenLayers vector; options, object\r\n * available options: url, cssClass, group, width, height, anchor\r\n */\r\nTC.feature.Marker = function (coords, options) {\r\n    var self = this;\r\n\r\n    TC.Feature.apply(self, arguments);\r\n\r\n    if (self.wrap.isNative(coords)) {\r\n        coords._wrap = self.wrap;\r\n        self.wrap.feature = coords;\r\n    }\r\n    else {\r\n        var opts = self.options = $.extend(true, self.options, TC.Cfg.styles.marker, options);\r\n        var locale = self.layer && self.layer.map ? self.layer.map.options.locale: TC.Cfg.locale;\r\n        self.title = opts.title || TC.i18n[locale][TC.Consts.MARKER];\r\n        self.wrap.createMarker(coords, opts);\r\n    }\r\n};\r\n\r\nTC.inherit(TC.feature.Marker, TC.feature.Point);\r\n\r\nTC.feature.Marker.prototype.STYLETYPE = 'marker';\r\n\r\nTC.feature.Marker.prototype.CLASSNAME = 'TC.feature.Marker';"],"file":"../../feature/Marker.min.js"}