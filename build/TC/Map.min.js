var TC=TC||{};TC.inherit=function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e._super=t.prototype};!function(){(this||{}).CustomEvent="function"==typeof CustomEvent?CustomEvent:function(e){t.prototype=new t("").constructor.prototype;return t;function t(e,t){t||(t={});var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail);return n}}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector);const e=function(e,t,n){const r=this;e.split(" ").forEach(function(e){r.$events.addEventListener(e,function(e,t){const n=function(e){const n={type:e.type,target:this,currentTarget:this};e.detail&&Object.keys(e.detail).forEach(function(t){t in n||(n[t]=e.detail[t])});return t.call(this,n)}.bind(this);(this._listeners[e]=this._listeners[e]||new Map).set(t,n);return n}.call(r,e,t),n)});return r};TC.EventTarget=function(){const e=this;e._listeners={};e.$events=document.createDocumentFragment();const t=["addEventListener","dispatchEvent","removeEventListener"];t.forEach(function(t){this[t]=e.$events[t].bind(e.$events)},e);t.push("on");t.push("one");t.push("off");t.push("trigger");t.forEach(function(t){e.$events[t]=e[t].bind(e)},e)};const t=TC.EventTarget.prototype;t.on=function(t,n){return e.call(this,t,n)};navigator.userAgent.indexOf("Trident")>=0||navigator.userAgent.indexOf("MSIE")>=0?t.one=function(e,t){const n=this,r=function(a){n.off(e,r);t.call(this,a)};n.on(e,r);return n}:t.one=function(t,n){return e.call(this,t,n,{once:!0})};t.off=function(e,t){const n=this,r=e.split(" ");t?r.forEach(function(e){const r=n._listeners[e];r&&r.has(t)&&n.$events.removeEventListener(e,r.get(t))}):r.forEach(function(e){const t=n._listeners[e];if(t){t.forEach(function(t){n.$events.removeEventListener(e,t)});t.clear()}});return n};t.trigger=function(e,t){if(window.$&&$.Event&&e instanceof $.Event){t={};Object.keys(e).forEach(function(n){"type"!==n&&(t[n]=e[n])});e=e.type}var n;t&&(n={detail:t});const r=new CustomEvent(e,n);this.dispatchEvent(r)};TC.EventTarget._onBySelectorMap=new WeakMap;TC.EventTarget.listenerBySelector=function(e,t){return function(n){const r=this,a=n.type;var s=TC.EventTarget._onBySelectorMap.get(r);if(!s){s={};TC.EventTarget._onBySelectorMap.set(r,s)}var o=s[a];o||(s[a]=o={});o[e]||(o[e]=t);if(!n._listenerBySelectorCalled)for(var i,l=!1,c=n.target;c&&c!==r;){for(e in o)if(c.matches&&c.matches(e)){l=!0;i=o[e].call(r,n);n._listenerBySelectorCalled=!0}if(l)return i;c=c.parentNode}}};var n=null,r=null;const a=function(e){const t=this;var a=s.call(t);if(t.replaceCurrent){window.history.replaceState(a,null,null);delete t.replaceCurrent}else{t.lastEventType=e.type;var o=function(){r=n;(n=TC.Util.utf8ToBase64(a))!==r&&window.history.pushState(a,null,window.location.href.split("#").shift()+"#"+n)};if(e)switch(!0){case e.type==TC.Consts.event.BASELAYERCHANGE:case e.type==TC.Consts.event.LAYERORDER:case e.type==TC.Consts.event.ZOOM:o();break;case e.type.toLowerCase().indexOf("LAYER".toLowerCase())>-1:e.layer.type==TC.Consts.layerType.WMS&&o()}}},s=function(e){const t=this;var n={};t.crs!==t.options.crs&&(n.crs=t.crs);for(var r=t.getExtent(),a=0;a<r.length;a++)Math.abs(r[a])>180&&(r[a]=Math.floor(1e3*r[a])/1e3);n.ext=r;var s,o,i=[];t.baseLayers&&(i=t.baseLayers.filter(function(e){return e.isRaster()&&e.fallbackLayer}).map(function(e){return{baseLayer:e,fallbackLayerID:e.fallbackLayer.id}}).filter(function(e){return e.fallbackLayerID===(t.baseLayer?t.baseLayer.id:t.baseLayers[0].id)}));i.length>0?n.base=i[0].baseLayer.id:n.base=(t.baseLayer||t.baseLayers[0]).id;n.layers=[];for(a=0;a<t.workLayers.length;a++)if("WMS"==(s=t.workLayers[a]).type&&!s.options.stateless&&s.layerNames&&s.layerNames.length){o={u:TC.Util.isOnCapabilities(s.url),n:$.isArray(s.names)?s.names.join(","):s.names,o:s.getOpacity(),v:s.getVisibility(),h:s.options.hideTitle,ur:s.unremovable,t:s.title};n.layers.push(o)}t.on3DView&&t.view3D.cameraControls&&(n.vw3=t.view3D.cameraControls.getCameraState());window.jsonpack||TC.syncLoadJS(TC.apiLocation+TC.Consts.url.JSONPACK);e&&$.extend(n,e);return jsonpack.pack(n)},o=function(e){const t=this,n=[];t.loadingctrl||(t.loadingCtrl=t.getControlsByClass("TC.control.LoadingIndicator")[0]);t.hasWait||(t.hasWait=t.loadingCtrl&&t.loadingCtrl.addWait());return new Promise(function(r,a){var s,o=function(){t.loadingCtrl&&t.loadingCtrl.removeWait(t.hasWait);delete t.hasWait;r()};if("string"==typeof e)try{s=jsonpack.unpack(e)}catch(n){try{s=JSON.parse(e)}catch(e){TC.error(TC.Util.getLocaleString(t.options.locale,"mapStateNotValid"))}}else s=e;if(s){if(s.crs&&s.crs!==t.crs||void 0===s.crs&&t.crs!==t.options.crs)n.push(t.setProjection({crs:s.crs||t.options.crs,oldCrs:t.crs,extent:s.ext,baseLayer:t.getLayer(s.base)}));else{if(s.base!=t.getBaseLayer().id){t.getLayer(s.base)&&t.setBaseLayer(s.base);const e=t.baseLayers.filter(function(e){return e.options.fallbackLayer===s.base})[0];if(e){const r=t.addLayer(e.getFallbackLayer());n.push(r);r.then(function(e){t.setBaseLayer(e)})}}s.ext&&n.push(t.setExtent(s.ext,{animate:!1}))}(function(){const e=this;e.workLayers.filter(function(e){return!(e instanceof TC.layer.Vector)}).forEach(function(t){t.unremovable&&(t.unremovable=!1);e.removeLayer(t)})}).call(t);s.layers=s.layers||s.capas||[];if(s.layers.length>0)for(var i=0;i<s.layers.length;i++){var l=s.layers[i],c=!1;for(j=0;j<t.options.workLayers.length;j++){var u=$.extend({},t.options.workLayers[j],{map:t});if(l.u===u.url&&u.layerNames.indexOf(l.n)>=0){c=!0;u.renderOptions={opacity:l.o,hide:!l.v};u.unremovable=l.ur;u.title=l.t;n.push(t.addLayer(u).then(function(e){e.setVisibility(this.v);e.setOpacity(this.o,!0)}.bind(l)))}}c||n.push(t.addLayer({id:TC.getUID(),url:TC.Util.isOnCapabilities(l.u,l.u.indexOf(window.location.protocol)<0)||l.u,hideTitle:l.h,layerNames:l.n?l.n.split(","):"",unremovable:l.ur,title:l.t,renderOptions:{opacity:l.o,hide:!l.v}}).then(function(e){var t=e.wrap.getRootLayerNode();e.title=t.Title||t.title;e.setOpacity(this.o,!0);e.setVisibility(this.v)}.bind(l)))}Promise.all(n).then(function(){o()}).catch(function(){o()})}})},i=function(e){return function(t,n,r,a){return n.id===e?r:t}},l=function(e){return(this instanceof TC.Map?this.options.availableBaseLayers:TC.Cfg.availableBaseLayers).filter(function(t){return t.id===e})[0]};TC.Map=TC.Map||function(e,t){const n=this;TC.EventTarget.call(n);TC.Map._instances.push(n);n.isReady=!1;n.isLoaded=!1;n.controls=[];n.activeControl=null;n.layers=[];n.baseLayers=[];n.workLayers=[];n.baseLayer=null;n.vectors=null;var u=0;n.div=TC.Util.getDiv(e);n._$div=$(n.div);n.div.classList.add(TC.Consts.classes.LOADING);$(n.div).data("map",n);n.div.classList.add(TC.Consts.classes.MAP);n._markerPromises=[];n._layerBuffer={layers:[],contains:function(e){return this.layers.some(function(t){return t.id===e})},getIndex:function(e){return this.layers.reduce(i(e),-1)},add:function(e,t,n){var r;const a={id:e,pending:!0,isRaster:t,isBase:n};if(t){r=this.getRasterIndex();this.layers.splice(r,0,a)}else{r=this.layers.length;this.layers[r]=a}},remove:function(e){this.layers.splice(this.getIndex(e),1)},getMapLayers:function(){return this.layers.filter(function(e){return!1===e.pending}).map(function(e){return e.mapLayer})},resolve:function(e,t,n){const r=this.layers[this.getIndex(t.id)];r.mapLayer=t;r.pending=!1;e.layers=this.getMapLayers();if(n){0===e.baseLayers.length&&(e.baseLayers=new Array(e.options.baseLayers.length));if((a=e.options.baseLayers.map(function(e){return e.id}).indexOf(t.id))<0){var a;(a=e.baseLayers.map(function(e){return e.type}).indexOf(TC.Consts.layerType.VECTOR))<0?e.baseLayers.push(t):e.baseLayers.splice(a,0,t)}else e.baseLayers.splice(a,1,t)}else e.workLayers=e.layers.filter(function(e){return!e.isBase})},reject:function(e,t,n){const r=this.layers[this.getIndex(t.id)];r.mapLayer=t;r.pending=!1;r.rejected=!0;var a=e.options.baseLayers.map(function(e){return e.id}).indexOf(t.id);e.baseLayers.splice(a,1)},getResolvedWorkLayerIndex:function(e,t){return this.layers.filter(function(e){return e.id===t||!e.isBase&&!1===e.pending}).reduce(i(t),-1)},getResolvedVisibleLayerIndex:function(e,t){var n=this.getResolvedWorkLayerIndex(e,t);e.baseLayer&&(n+=1);return n},getRasterIndex:function(){return this.layers.reduce((e="isRaster",function(t,n,r){return n[e]?r:t}),-1)+1;var e},checkMapLoad:function(e){const t=this;if(e.options.baseLayers.concat(e.options.workLayers).every(function(e){return t.contains(e.id||e)})&&!this.layers.some(function(e){return!0===e.pending})){const t=function(){if(!e.isLoaded){const t=function(){e.options.stateful&&function(){const e=this;var t=[TC.Consts.event.LAYERADD,TC.Consts.event.LAYERORDER,TC.Consts.event.LAYERREMOVE,TC.Consts.event.LAYERVISIBILITY,TC.Consts.event.ZOOM,TC.Consts.event.BASELAYERCHANGE].join(" ");e.replaceCurrent=!0;a.call(e);const n=a.bind(e);e.on(t,n);var r;e.on(TC.Consts.event.LAYEROPACITY,function(t){clearTimeout(r);r=setTimeout(function(){a.call(e,t)},500)});window.addEventListener("popstate",function(r){var a;a=e.loadingCtrl&&e.loadingCtrl.addWait();setTimeout(function(){if(r){e.off(t,n);var s=r.state;"[object Object]"===Object.prototype.toString.call(s)&&(s=e.checkLocation());o.call(e,s).then(function(){setTimeout(function(){e.on(t,n)},200);e.loadingCtrl&&e.loadingCtrl.removeWait(a)})}},4)})}.call(e);e.isLoaded=!0;e.trigger(TC.Consts.event.MAPLOAD);Number.isInteger(TC.Util.detectIE())&&TC.Util.detectIE()<12&&e.options.warningIE||e.div.classList.remove(TC.Consts.classes.LOADING)};if(e.state&&e.state.vw3){if(Number.isInteger(TC.Util.detectIE())&&TC.Util.detectIE()<12){e.toast(TC.Util.getLocaleString(e.options.locale,"threed.not.supported"),{type:TC.Consts.msgType.ERROR,duration:2*TC.Cfg.toastDuration});t()}else if(!e.div.classList.contains(TC.Consts.classes.THREED)){e.div.classList.add(TC.Consts.classes.THREED);TC.loadJS(!TC.view||!TC.view.ThreeD,TC.apiLocation+"TC/view/ThreeD",function(){TC.view.ThreeD.apply({map:e,state:e.state.vw3,callback:function(){t();e.getControlsByClass(TC.control.ThreeD)[0].button.removeAttribute("disabled")}})})}}else t()}};if(e.baseLayer)t();else{var n=[];e.state&&e.state.base&&(n=TC.Cfg.availableBaseLayers.filter(function(t){return t.id===e.state.base}));if(n.length>0){n[0].isBase=!0;e.addLayer(n[0]).then(function(e){t()})}else{const n=e.baseLayers.filter(function(e){return!e.mustReproject}).filter(function(e){return e.wrap&&e.wrap.layer});if(n.length>0){e.wrap.setBaseLayer(n[0].wrap.layer);e.baseLayer=n[0]}t()}}}}};if(!TC.ready){TC.Cfg=$.extend({},TC.Defaults,TC.Cfg);TC.ready=!0}if(t&&t.controls&&t.controls.search&&t.controls.search.allowedSearchTypes)for(var p in TC.Cfg.controls.search.allowedSearchTypes)t.controls.search.allowedSearchTypes.hasOwnProperty(p)||(t.controls.search.allowedSearchTypes[p]=!1);t=t||{};f.call(n,t);var C=function(){TC.loadJS(n.options.stateful&&!window.jsonpack,[TC.apiLocation+TC.Consts.url.JSONPACK],function(){n.options.stateful&&(n.state=n.checkLocation());n.options.layout&&n.trigger(TC.Consts.event.LAYOUTLOAD,{map:n});t&&void 0!==t.workLayers&&(n.options.workLayers=t.workLayers);t&&void 0!==t.baseLayers&&(n.options.baseLayers=t.baseLayers);if(n.options.zoomToFeatures){n.on(TC.Consts.event.FEATURESADD,function e(t){clearTimeout(n._zoomToFeaturesTimeout);n._zoomToFeaturesTimeout=setTimeout(function(){n.zoomToFeatures(t.layer.features,{animate:!1});n.off(TC.Consts.event.FEATURESADD,e)},100)})}n.on(TC.Consts.event.LAYERADD,function e(t){if(t.layer.isBase&&(t.layer===n.baseLayer||n.baseLayer&&t.layer.fallbackLayer&&t.layer.fallbackLayer.id===n.baseLayer.id)){void 0!==n.state&&(n.state.crs?n.loaded(function(){n.setProjection({crs:n.state.crs,extent:n.state.ext})}):n.setExtent(n.state.ext,{animate:!1}));n.off(TC.Consts.event.LAYERADD,e)}});n.crs=n.options.crs;n.initialExtent=n.options.initialExtent;n.maxExtent=n.options.maxExtent;Number.isInteger(TC.Util.detectIE())&&TC.Util.detectIE()<12&&n.options.warningIE&&function(){const e=TC.isDebug?TC.apiLocation+"TC/templates/WarningIE.html":function(){dust.register("warningIE",e);function e(e,t){return e.w('<div class="tc-warningIE"><span>').h("i18n",t,{},{$key:"warningIE"}).w('</span><button class="tc-button tc-hidden" title="').h("i18n",t,{},{$key:"warningIEContinue"}).w('">').h("i18n",t,{},{$key:"warningIEContinue"}).w("</button></div>")}e.__dustBody=!0;return e};TC.Util.getRenderedHtml("warningIE",e,null,function(e){var t=document.createElement("template");t.innerHTML=e.trim();n.div.appendChild(t.content?t.content.firstChild:t.firstChild);n.loaded(function(){const e=document.querySelector(".tc-warningIE > button");e.classList.remove(TC.Consts.classes.HIDDEN);const t=function(r){e.removeEventListener("click",t);n.div.removeChild(document.querySelector(".tc-warningIE"));n.div.classList.remove(TC.Consts.classes.LOADING)};e.addEventListener("click",t)})})}();n.wrap=new TC.wrap.Map(n);TC.loadJS(!(TC.isLegacy?window[TC.Consts.PROJ4JSOBJ_LEGACY]:window[TC.Consts.PROJ4JSOBJ]),[TC.url.proj4js],function(){TC.loadJSInOrder(!(TC.isLegacy?window[TC.Consts.OLNS_LEGACY]:window[TC.Consts.OLNS]),[TC.url.ol,TC.url.olConnector],function(){TC.loadProjDef({crs:n.options.crs,callback:function(){n.wrap.setMap();const e=[];for(var t in n.options.controls){const r=n.options.controls[t];r&&e.push(n.addControl(t,"boolean"==typeof r?{}:r))}n.on(TC.Consts.event.BEFORELAYERUPDATE,d);n.on(TC.Consts.event.LAYERUPDATE,h);var r,a;for(r=0;r<n.options.baseLayers.length;r++){"string"==typeof(a=n.options.baseLayers[r])&&(a=l.call(n,a));n.addLayer($.extend({},a,{isBase:!0,map:n}))}var s=function(e){e.isRaster()&&!e.names&&e.setVisibility(!1)};n.options.workLayers.map(function(e){return $.extend({},e,{map:n})}).filter(function(e){return!n.state||!n.state.layers||!n.state.layers.some(function(t){const n=t.u===e.url&&e.layerNames.indexOf(t.n)>=0;n&&(t.id=e.id);return n})}).forEach(function(e){n.addLayer(e).then(s)});n.state&&n.state.layers&&n.state.layers.forEach(function(e){n.addLayer({id:e.id||TC.getUID(),url:TC.Util.isOnCapabilities(e.u,e.u.indexOf(window.location.protocol)<0)||e.u,hideTitle:e.h,layerNames:e.n?e.n.split(","):"",unremovable:e.ur,title:e.t,renderOptions:{opacity:e.o,hide:!e.v}}).then(function(t){t.wrap.$events.on(TC.Consts.event.TILELOADERROR,function(e){var t=this.parent;401!==e.error.code&&403!==e.error.code||t.map.toast(e.error.text,{type:TC.Consts.msgType.ERROR});t.map.removeLayer(t)});var n=t.wrap.getRootLayerNode();t.title=e.t||n.Title||n.title;this.o<1&&t.setOpacity(this.o);this.v||t.setVisibility(this.v)}.bind(e))});Promise.all(e).then(function(){n.isReady=!0;n.trigger(TC.Consts.event.MAPREADY)});g(n.div)}})})});n.on(TC.Consts.event.FEATURECLICK,function(e){n.activeControl&&n.activeControl.isExclusive()||(n.on3DView?e.feature.showResultsPanel():e.feature.showPopup())});n.on(TC.Consts.event.NOFEATURECLICK,function(e){e.layer._noFeatureClicked=!0;for(var t=!0,r=0,a=n.workLayers.length;r<a;r++)if(!n.workLayers[r]._noFeatureClicked){t=!1;break}if(t){n.workLayers.forEach(function(e){delete e._noFeatureClicked});n.getControlsByClass(TC.control.Popup).forEach(function(e){e.hide()})}})})};y.getMapState=function(e){var t=s.call(this,e);return TC.Util.utf8ToBase64(t)};y.getPreviousMapState=function(){return r};y.checkLocation=function(){var e=window.location.hash;if(e&&e.length>1){e=e.substr(1);var t;try{t=jsonpack.unpack(TC.Util.base64ToUtf8(e))}catch(r){try{t=JSON.parse(TC.Util.base64ToUtf8(e))}catch(e){TC.error(TC.Util.getLocaleString(n.options.locale,"mapStateNotValid"),TC.Consts.msgErrorMode.TOAST);return}}TC.Util.detectIE()&&2047===window.location.href.length&&TC.error(TC.Util.getLocaleString(n.options.locale,"mapStateNotValidForIE"),TC.Consts.msgErrorMode.TOAST);if(t){var r=!1;if(!t.hasOwnProperty("ext")){r=!0;t.ext=n.options.initialExtent}if(!t.hasOwnProperty("base")){r=!0;t.base=n.options.defaultBaseLayer}if(t.hasOwnProperty("layers"))for(var a=t.layers.length-1;a>=0;a--)if(t.layers[a]&&t.layers[a].hasOwnProperty("u")&&t.layers[a].hasOwnProperty("n")){if(!t.layers[a].hasOwnProperty("o")||!t.layers[a].hasOwnProperty("v")||!t.layers[a].hasOwnProperty("h")){r=!0;jQuery.extend(t.layers[a],{o:t.layers[a].o||1,v:t.layers[a].v||!0,h:t.layers[a].h||!1})}}else{r=!0;t.layers.length=t.layers.length-1}else{r=!0;t.layers=[]}t.hasOwnProperty("vw3")&&(t.vw3?(!t.vw3.cp||t.vw3.cp&&3!=t.vw3.cp.length||!t.vw3.chpr||t.vw3.chpr&&3!=t.vw3.chpr.length||!t.vw3.bcpd)&&(r=!0):r=!0);r&&TC.error(TC.Util.getLocaleString(n.options.locale,"mapStateNotValid"),TC.Consts.msgErrorMode.TOAST);return t}TC.error(TC.Util.getLocaleString(n.options.locale,"mapStateNotValid"),TC.Consts.msgErrorMode.TOAST)}};var d=function(e){if(u<=0){u=0;n.trigger(TC.Consts.event.BEFOREUPDATE)}u+=1},h=function(e){if((u-=1)<=0){u=0;n.trigger(TC.Consts.event.UPDATE)}};const T=function(e){var t={};return new Promise(function(n,r){if("string"==typeof e){var a=e,s=/^(https?:)?\/\//i.test(a);const r=function(e,t,n){return new Promise(function(r,l){var c=[a+"/"+n,i+a+"/"+n,i+"layout/responsive/"+n];s&&c.unshift(a+"/"+n);!function n(a){(s=c[a],i=t,new Promise(function(e,t){TC.ajax({method:"HEAD",url:s}).then(function(t){e({resource:i,found:!0,url:s})}).catch(function(t){e({resource:i,found:404!==t.status,url:s})})})).then(function(t){t.found?r(o(e,t)):a===c.length-1?r(e):n(++a)});var s,i}(0)})};var o=function(e,t){if(!(t.resource in e)){var n=t.found?t.url:i+a+"/"+l[t.resource];e[t.resource]=n}return e},i=TC.apiLocation+"TC/",l={script:"script.js",style:"style.css",markup:"markup.html",config:"config.json",i18n:"resources"};Object.keys(l).length;Promise.all(Object.keys(l).map(function(e){return r(t,e,l[e])})).then(function(){n(t)})}else n(e)})};TC.i18n=TC.i18n||{};TC.i18n.loadResources=TC.i18n.loadResources||function(e,t,n){var r;if(e)r=new Promise(function(e,r){TC.ajax({url:t+n+".json",method:"GET",responseType:TC.Consts.mimeType.JSON}).then(function(t){TC.i18n[n]=TC.i18n[n]||{};$.extend(TC.i18n[n],t);"undefined"!=typeof dust&&TC.loadJS(!window.dust.i18n,TC.apiLocation+TC.Consts.url.TEMPLATING_I18N,function(){dust.i18n.add(n,TC.i18n[n]);e()})}).catch(function(e){r(e instanceof Error?e:Error(e))})});else{dust.i18n.add(n,TC.i18n[n]);r=Promise.resolve()}return r};var v=[],L=n.options.locale;v.push(new Promise(function(e,t){TC.loadJSInOrder(!window.dust||!window.dust.i18n,TC.url.templating,function(){if(L){dust.i18n.setLanguages([L]);v.push(TC.i18n.loadResources(!TC.i18n[L],TC.apiLocation+"TC/resources/",L))}e()})}));Promise.all(v).finally(function(){const e=TC.Util.getParameterByName(TC.Cfg.layoutURLParamName)||n.options.layout;e?T(e).then(function(e){n.trigger(TC.Consts.event.BEFORELAYOUTLOAD,{map:n});var r;"string"==typeof e?r={href:$.trim(e)}:(e.hasOwnProperty("config")||e.hasOwnProperty("markup")||e.hasOwnProperty("style")||e.hasOwnProperty("ie8Style")||e.hasOwnProperty("script")||e.hasOwnProperty("href")||e.hasOwnProperty("i18n"))&&(r=$.extend({},e));if(r.href)r.href+=r.href.match(/\/$/)?"":"/";else for(var a in r){const e=r[a];if(e){r.href=e.substr(0,e.lastIndexOf("/")+1);break}}r.config=r.config||r.href+"config.json";r.markup=r.markup||r.href+"markup.html";r.style=r.style||r.href+"style.css";r.ie8Style=r.ie8Style||r.href+"ie8.css";r.script=r.script||r.href+"script.js";r.i18n=r.i18n||r.href+"resources";r.i18n&&(r.i18n+=r.i18n.match(/\/$/)?"":"/");n.layout=r;const s=[],o=new Promise(function(e,a){if(r.config){const a=TC.ajax({url:r.config,method:"GET",responseType:TC.Consts.mimeType.JSON});a.then(function(r){e(r.i18n);f.call(n,r,t)}).catch(function(t){TC.error(t);e(!1)});s.push(a)}else e(!1)});s.push(o);if(r.style){n.div.classList.add("tc-lo");TC.loadCSS(r.style)}!Modernizr.canvas&&r.ie8Style&&TC.loadCSS(r.ie8Style);r.markup&&s.push(new Promise(function(e,t){TC.ajax({url:r.markup,method:"GET",responseType:"text"}).then(function(t){o.then(function(a){if(a&&L)TC.i18n.loadResources(!0,r.i18n,L).finally(function(){t=t.replace(/(?:\{\{([^\}\{]+)\}\}|\{@i18n \$key="([^\}\{]+)"\/\})/g,function(e,t,n){return TC.Util.getLocaleString(L,t||n)});n.div.lastElementChild?n.div.lastElementChild.insertAdjacentHTML("afterend",t):n.div.innerHTML=t;e()});else{n.div.lastElementChild?n.div.lastElementChild.insertAdjacentHTML("afterend",t):n.div.innerHTML=t;e()}})}).catch(function(e){t(Error(e))})}));Promise.all(s).finally(function(){TC.loadJS(r.script,r.script,function(){g(n.div);C()})})}):C()});n.on(TC.Consts.event.UPDATEPARAMS,function(e){c(e.layer)});n.on(TC.Consts.event.ZOOM,function(){for(var e=0;e<n.workLayers.length;e++)c(n.workLayers[e])});var m=TC.error;TC.error=function(e,t,r){TC.isDebug&&console.trace&&console.trace();if(t){var a=function(e,t,r){switch(t){case TC.Consts.msgErrorMode.TOAST:if(!n.toast){console.warn("No existe el objeto Toast");return}n.toast(e,{type:TC.Consts.msgType.ERROR,duration:2*TC.Cfg.toastDuration});break;case TC.Consts.msgErrorMode.EMAIL:TC.Cfg.loggingErrorsEnabled&&JL("onerrorLogger").fatalException(r?{msg:r,errorMsg:e}:e,null);break;case TC.Consts.msgErrorMode.CONSOLE:default:console.error(e)}};if($.isArray(t))for(var s=0;s<t.length;s++)a(e,t[s],r);else a(e,t,r)}else{m(e);n.toast(e,{type:TC.Consts.msgType.ERROR,duration:2*TC.Cfg.toastDuration})}}};TC.Map._instances=[];TC.Map.get=function(e){for(var t=0,n=TC.Map._instances.length;t<n;t++){const n=TC.Map._instances[t];if(n.div===e)return n}};TC.inherit(TC.Map,TC.EventTarget);var c=function(e){e.type===TC.Consts.layerType.WMS&&(e.tree=null)},u=function(e,t){var n=$.map(e,function(e){var n={};e&&(n[t]=e[t]);return n});"availableBaseLayers"===t&&console.log("layerOptions",n);var r={};r[t]=TC.Cfg[t];n.unshift(r);if("baseLayers"===t&&n[1].baseLayers){r=n[1];for(var a=0;a<r.baseLayers.length;a++)"object"==typeof r.baseLayers[a]&&$.extend(r.baseLayers[a],l.call(this,r.baseLayers[a].id))}else{n.unshift(!0);r=$.extend.apply(this,n);"availableBaseLayers"===t&&console.log("layerOption",r)}return r[t]};var f=function(){const e=this.options=$.extend.apply(this,$.merge([!0,{},TC.Cfg],arguments));e.availableBaseLayers=TC.Cfg.availableBaseLayers.concat.apply(TC.Cfg.availableBaseLayers,Array.prototype.map.call(arguments,function(e){return e.availableBaseLayers||[]}));e.baseLayers=u.call(this,arguments,"baseLayers");e.workLayers=u.call(this,arguments,"workLayers");Array.prototype.slice.call(arguments).filter(function(e){return e.controls}).map(function(e){return e.controls}).length>0&&(e.controls=function(e){e.controlContainer&&Object.keys(e).filter(function(t){return Object.keys(e.controlContainer.controls).indexOf(t)>-1}).forEach(function(t){delete e[t]});return e}(e.controls));return e},y=TC.Map.prototype,p=function(e,t){var n,r='Layer "'+t.title+'" ("'+t.names+'"): ';n=t.isValidFromNames()?"layerSrsNotCompatible":"layerNameNotValid";r+=TC.Util.getLocaleString(e.options.locale,n);TC.error(r);e.trigger(TC.Consts.event.LAYERERROR,{layer:t,reason:n})};y.getCRS=function(){const e=this;return e.on3DView?e.view3D.crs:e.crs};y.addLayer=function(e,t){const n=this,r=new Promise(function(t,r){const s=v(e);"object"!=typeof e||e.id||(e.id=TC.getUID());n._layerBuffer.add(e.id||e,s,e.isBase);var o,i,c;if(s){i=!TC.layer||!TC.layer.Raster;c=TC.apiLocation+"TC/layer/Raster"}else{i=!TC.layer||!TC.layer.Vector;c=TC.apiLocation+"TC/layer/Vector"}TC.loadJS(i,[c],function(){if("string"==typeof e)o=new TC.layer.Raster($.extend({},l.call(n,e),{map:n}));else if(e instanceof TC.Layer)(o=e).map=n;else{e.map=n;o=e.type===TC.Consts.layerType.VECTOR||e.type===TC.Consts.layerType.KML||e.type===TC.Consts.layerType.WFS?new TC.layer.Vector(e):new TC.layer.Raster(e)}Promise.all([n.wrap.getMap(),o.wrap.getLayer()]).then(function(){n.trigger(TC.Consts.event.BEFORELAYERADD,{layer:o});var s;v(o)&&(s=n.wrap.indexOfFirstVector());-1===s&&(s=n.wrap.getLayerCount());const i=n.state&&n.state.crs?n.state.crs:n.getCRS(),l=o.isCompatible(i);if(o.isBase){if(!l)if(!o.type===TC.Consts.layerType.WMTS)o.mustReproject=!0;else{const e=o.wrap.getCompatibleMatrixSets(i)[0];e?o.wrap.setMatrixSet(e):o.mustReproject=!0}n.state?o.isDefault=n.state.base===o.id||n.state.base===o.options.fallbackLayer:"string"==typeof n.options.defaultBaseLayer?o.isDefault=n.options.defaultBaseLayer===o.id:"number"==typeof n.options.defaultBaseLayer&&(o.isDefault=n.options.defaultBaseLayer===n.baseLayers.length);if(o.isDefault){var c;if(o.mustReproject&&!o.type===TC.Consts.layerType.WMTS||o.mustReproject&&o.type===TC.Consts.layerType.WMTS&&!o.wrap.getCompatibleMatrixSets(i)[0])if(o.options.fallbackLayer&&o.getFallbackLayer)n.addLayer(o.getFallbackLayer()).then(function(e){n.wrap.setBaseLayer(e.wrap.layer);n.baseLayer=e.wrap.parent;a(c);t(o)});else{p(n,o);r(e)}else{c=null===n.baseLayer;o.wrap.getLayer().then(function(e){n.wrap.setBaseLayer(e);n.baseLayer=o;a(c);t(o)})}}else t(o)}else if(l)o.wrap.getLayer().then(function(e){t(o)});else{p(n,o);r(e)}},function(t){r(e)})})});r.then(function(e){n._layerBuffer.resolve(n,e,e.isBase);e.isBase||n.wrap.insertLayer(e.wrap.layer,n._layerBuffer.getResolvedVisibleLayerIndex(n,e.id));n.trigger(TC.Consts.event.LAYERADD,{layer:e});n._layerBuffer.checkMapLoad(n);$.isFunction(t)&&t(e)}).catch(function(e){n._layerBuffer.reject(n,e,e.isBase);n._layerBuffer.checkMapLoad(n)});const a=function(e){if(e){var t={projection:n.wrap.map.getView().getProjection(),extent:n.initialExtent},r=n.baseLayer.getResolutions();if(r&&r.length)t.resolutions=r;else{t.minZoom=n.wrap.map.getView().getMinZoom();t.maxZoom=n.wrap.map.getView().getMaxZoom();var a=n.baseLayer.wrap.layer.getMinResolution();0!==a&&(t.minResolution=a);var s=n.baseLayer.wrap.layer.getMaxResolution();s!==Number.POSITIVE_INFINITY&&(t.maxResolution=s)}n.wrap.map.setView(new ol.View(t));n.wrap.map.getView().fit(n.initialExtent)}};return r};y.removeLayer=function(e){const t=this;return new Promise(function(n,r){if(e.unremovable)return r("Unremovable");e.wrap.getLayer().then(function(r){for(var a=0;a<t.layers.length;a++)t.layers[a]===e&&t.layers.splice(a,1);if(e.isBase){for(a=0;a<t.baseLayers.length;a++)if(t.baseLayers[a]===e){t.baseLayers.splice(a,1);t.baseLayer===e&&t.setBaseLayer(t.baseLayers[0]);break}}else{for(a=0;a<t.workLayers.length;a++)if(t.workLayers[a]===e){t.workLayers.splice(a,1);break}e===t.vectors&&(t.vectors=null)}t.wrap.removeLayer(r);t._layerBuffer.remove(e.id);t.trigger(TC.Consts.event.LAYERREMOVE,{layer:e});t._layerBuffer.checkMapLoad(t);n(e)})})};y.insertLayer=function(e,t,n){for(var r=this,a=-1,s=0;s<r.layers.length;s++)if(e===r.layers[s]){a=s;break}var o=[];o.push(e.wrap.getLayer());var i=r.layers[t];i&&o.push(i.wrap.getLayer());Promise.all(o).then(function(s){const o=s[0],i=s[1];var l=-1;if((l=i?r.wrap.getLayerIndex(i):r.wrap.getLayerCount())>=0){e.map=r;r.wrap.insertLayer(o,l);a>-1&&r.layers.splice(a,1);r.layers.splice(t,0,e);r.workLayers=r.layers.filter(function(e){return!e.isBase});r.trigger(TC.Consts.event.LAYERORDER,{layer:e,oldIndex:a,newIndex:t})}$.isFunction(n)&&n()})};y.setLayerIndex=function(e,t){this.wrap.setLayerIndex(e.wrap.layer,t)};y.putLayerOnTop=function(e){var t=this.wrap.getLayerCount();this.setLayerIndex(e,t-1)};y.setBaseLayer=function(e,t){var n=this,r=null,a=!1;if("string"==typeof e){var s;for(s=0;s<n.layers.length;s++)if(n.layers[s].id===e){e=n.layers[s];a=!0;break}if(!a&&(e=l.call(n,e))){e=n.addLayer($.extend(!0,{},e,{isDefault:!0,map:n}));a=!0}}else{if($.inArray(e,n.layers)<0){e.isDefault=!0;e.map=n;n.addLayer(e)}a=!0}if(a)if(e.isCompatible(n.getCRS())||e.fallbackLayer&&(!e.fallbackLayer||e.fallbackLayer.isCompatible(n.getCRS()))){n.trigger(TC.Consts.event.BEFOREBASELAYERCHANGE,{oldLayer:n.getBaseLayer(),newLayer:e});r=e;n.wrap.getMap().then(function(r){e.wrap.getLayer().then(function(r){n.wrap.setBaseLayer(r).then(function(){n.baseLayer=e;n.trigger(TC.Consts.event.BASELAYERCHANGE,{layer:e});$.isFunction(t)&&t()})})})}else TC.error("Base layer must be reprojected");else TC.error("Base layer is not available");return r};y.setView=function(e){this.view=e;this.trigger(TC.Consts.event.VIEWCHANGE,{view:e})};y.ready=function(e){$.isFunction(e)&&(this.isReady?e():this.one(TC.Consts.event.MAPREADY,e))};y.loaded=function(e){$.isFunction(e)&&(this.isLoaded?e():this.one(TC.Consts.event.MAPLOAD,e))};y.getLayerTree=function(){var e={baseLayers:[],workLayers:[]};this.baseLayer&&(e.baseLayers[0]=this.baseLayer.getTree());for(var t=0;t<this.workLayers.length;t++){var n=this.workLayers[t].getTree();n&&e.workLayers.unshift(n)}return e};y.addControl=function(e,t){const n=this;return new Promise(function(r,a){const s=function(e){n.controls.push(e);return Promise.resolve(e.register(n)).then(function(t){e.div.parentElement||n.div.appendChild(e.div);n.trigger(TC.Consts.event.CONTROLADD,{control:e});return t}).catch(function(e){a(e instanceof Error?e:Error(e))})};if("string"==typeof e){e=e.substr(0,1).toUpperCase()+e.substr(1);TC.loadJS(!TC.Control||!TC.control[e],[TC.apiLocation+"TC/control/"+e],function(){s(new TC.control[e](null,t)).then(function(e){r(e)})})}else s(e).then(function(e){r(e)})})};y.getControlsByClass=function(e){var t=[],n=e;if("string"==typeof e){n=window;for(var r=e.split("."),a=0;a<r.length&&(n=n[r[a]]);a++);}if($.isFunction(n))for(a=0;a<this.controls.length;a++){var s=this.controls[a];s instanceof n&&t.push(s)}return t};y.getControlById=function(e){const t=this;for(var n=0,r=t.controls.length;n<r;n++){const r=t.controls[n];if(r.id===e)return r}return null};y.getDefaultControl=function(){var e=this.getControlsByClass("TC.control.FeatureInfo");return e&&e.length?e[0]:null};y.getLoadingIndicator=function(){var e=null,t=this.getControlsByClass("TC.control.LoadingIndicator");t.length&&(e=t[0]);return e};y.setExtent=function(e,t){return this.wrap.setExtent(e,t)};y.getExtent=function(){return this.wrap.getExtent()};y.setCenter=function(e,t){return this.wrap.setCenter(e,t)};y.getCenter=function(){return this.wrap.getCenter()};y.setRotation=function(e){this.wrap.setRotation(e)};y.getRotation=function(){return this.wrap.getRotation()};y.getViewHTML=function(){return this.wrap.getViewport()};y.getCompatibleCRS=function(e){const t=((e=e||{}).layers||this.workLayers.concat(this.baseLayer)).filter(function(e){return e.isRaster()}).map(function(t){return t.getCompatibleCRS({normalized:!0,includeFallback:e.includeFallbacks})}),n=t.slice(1);return t[0].filter(function(e){return n.every(function(t){return t.indexOf(e)>=0})})};y.loadProjections=function(e){e=e||{};return new Promise(function(t,n){const r=e.crsList||[];Promise.all(r.map(function(e){return TC.getProjectionData({crs:TC.Util.getCRSCode(e)})})).then(function(n){var r=n.filter(function(e){return"ok"===e.status&&e.number_result>0}).map(function(e){const t=e.results[0],n="EPSG:"+t.code;TC.loadProjDef({crs:n,def:t.def,name:t.name});return{code:n,name:t.name,proj4:t.proj4,unit:t.unit}});e.orderBy&&(r=r.sort(TC.Util.getSorterByProperty(e.orderBy)));t(r)},function(e){n(e)})})};y.setProjection=function(e){const t=this;e=e||{};return new Promise(function(n,r){var a;if(e.crs){e.baseLayer?a=e.baseLayer:e.allowFallbackLayer&&(t.baseLayer.isCompatible(e.crs)||0!==t.baseLayer.wrap.getCompatibleMatrixSets(e.crs).length?t.baseLayer.firstOption&&(t.baseLayer.firstOption.isCompatible(e.crs)||t.baseLayer.firstOption.wrap.getCompatibleMatrixSets(e.crs).length>0)&&(a=t.baseLayer.firstOption):t.baseLayer.options.fallbackLayer&&(a=t.baseLayer.getFallbackLayer()));a||(a=t.baseLayer);const s=function(){TC.loadProjDef({crs:e.crs,callback:function(){const s=function(a){const o=function(){const o=$.extend({},e,{oldCrs:t.crs}),i=function(e){e.setProjection(o)};if(a.isCompatible(e.crs)||a.wrap.getCompatibleMatrixSets(e.crs).length>0){a.setProjection(o);t.wrap.setProjection($.extend({},e,{baseLayer:a}));t.crs=e.crs;t.baseLayers.filter(function(e){return e!==a}).forEach(i);t.workLayers.forEach(i);const r=function(){t.trigger(TC.Consts.event.PROJECTIONCHANGE,{crs:e.crs});n()};a&&a!==t.baseLayer?t.setBaseLayer(a,r):r()}else a.fallbackLayer?s(a.fallbackLayer):r()};a.type===TC.Consts.layerType.WMS||a.type===TC.Consts.layerType.WTMS?a.getCapabilitiesPromise().then(o):o()};s(a)}})};t.baseLayers.indexOf(a)<0?t.addLayer(a).then(s):s()}})};y.getMetersPerUnit=function(){return this.wrap.getMetersPerUnit()};y.getCoordinateFromPixel=function(e){return this.wrap.getCoordinateFromPixel(e)};y.getPixelFromCoordinate=function(e){return this.wrap.getPixelFromCoordinate(e)};y.zoomToFeatures=function(e,t){if(e.length>0){var n=[1/0,1/0,-1/0,-1/0],r=t||{},a=r.pointBoundsRadius||this.options.pointBoundsRadius;a/=this.getMetersPerUnit();var s=r.extentMargin;"number"!=typeof s&&(s=this.options.extentMargin);for(var o=0;o<e.length;o++){var i=e[o].getBounds();if(i){n[0]=Math.min(n[0],i[0]);n[1]=Math.min(n[1],i[1]);n[2]=Math.max(n[2],i[2]);n[3]=Math.max(n[3],i[3])}}if(n[2]-n[0]==0){n[0]=n[0]-a;n[2]=n[2]+a}if(n[3]-n[1]==0){n[1]=n[1]-a;n[3]=n[3]+a}if(this.options.extentMargin){var l=(n[2]-n[0])*s/2,c=(n[3]-n[1])*s/2;n[0]=n[0]-l;n[1]=n[1]-c;n[2]=n[2]+l;n[3]=n[3]+c}if(this.options.maxExtent){n[0]=Math.max(n[0],this.options.maxExtent[0]);n[1]=Math.max(n[1],this.options.maxExtent[1]);n[2]=Math.min(n[2],this.options.maxExtent[2]);n[3]=Math.min(n[3],this.options.maxExtent[3])}this.wrap.setExtent(n,r);this.trigger(TC.Consts.event.ZOOMTO,{extent:n})}};y.zoomToMarkers=function(e){var t=this;Promise.all(t._markerPromises).then(function(){for(var n=[],r=0;r<t.workLayers.length;r++){var a=t.workLayers[r];if(a.type===TC.Consts.layerType.VECTOR)for(var s=0;s<a.features.length;s++){var o=a.features[s];o instanceof TC.feature.Marker&&(n[n.length]=o)}}t.zoomToFeatures(n,e);t._markerPromises=[]})};y.getLayer=function(e){var t=null;if("string"==typeof e){for(var n=0;n<this.layers.length;n++)if(this.layers[n].id===e){t=this.layers[n];break}}else TC.Layer&&e instanceof TC.Layer&&(t=e);return t};var C=function(e){var t;if(e.vectors)t=Promise.resolve(e.vectors);else{t=e.addLayer({id:TC.getUID(),title:TC.i18n[e.options.locale].vectors,type:TC.Consts.layerType.VECTOR});e.vectors=t;t.then(function(t){e.vectors=t})}return t};y.addPoint=function(e,t){if(t&&t.layer){var n=this.getLayer(t.layer);n&&n.addPoint(e,t)}else C(this).then(function(n){n.addPoint(e,t)})};y.addMarker=function(e,t){var n=this;if(t&&t.layer){var r=n.getLayer(t.layer);r&&n._markerPromises.push(r.addMarker(e,t))}else n._markerPromises.push(new Promise(function(r,a){C(n).then(function(n){n.addMarker(e,t).then(function(e){r(e)})})}))};y.addPolyline=function(e,t){if(t&&t.layer){this.getLayer(t.layer)&&t.layer.addPolyline(e,t)}else C(this).then(function(n){n.addPolyline(e,t)})};y.addPolygon=function(e,t){if(t&&t.layer){this.getLayer(t.layer)&&t.layer.addPolygon(e,t)}else C(this).then(function(n){n.addPolygon(e,t)})};y.getBaseLayer=function(){return this.baseLayer||this.baseLayers[0]};y.getResolutions=function(){return this.wrap.getResolutions()};y.getResolution=function(){return this.wrap.getResolution()};y.setResolution=function(e){this.wrap.setResolution(e)};y.exportFeatures=function(e,t){t=t||{};var n=this.getLoadingIndicator(),r=n&&n.addWait();const a=t.format===TC.Consts.format.GPX?Number.NaN:0;e.forEach(function(t,n){var r=t.getCoords({pointArray:!0});if(r.some(function(e){return null===e[2]})){e[n]=t=t.clone();(r=t.getCoords({pointArray:!0})).forEach(function(e){null===e[2]&&(e[2]=a)})}});const s=this.wrap.exportFeatures(e,t),o=TC.Consts.mimeType[t.format],i=t.format||"";TC.Util.downloadFile((t.fileName||TC.getUID())+"."+i.toLowerCase(),o,s);n&&n.removeWait(r)};var d={},h=function(){const e=this;var t=e;do{t=t.parentElement}while(t&&!t.matches(".tc-toast-container"));const n=e.innerHTML;e.classList.add(TC.Consts.classes.HIDDEN);void 0!==d[n]&&(d[n]=void 0);setTimeout(function(){e.parentElement&&e.parentElement.removeChild(e);t&&!t.querySelector(".tc-toast")&&t.parentElement&&t.parentElement.removeChild(t)},1e3)};y.toastHide=function(e){var t=d[e];if(t){clearTimeout(t.timeout);t.toast&&t.toast.parentElement&&t.toast.parentElement.removeChild(t.toast);t.toast=null}};y.toast=function(e,t){const n=this;var r=t||{},a=r.duration||TC.Cfg.toastDuration,s=d[e];if(s){clearTimeout(s.timeout);s.toast&&s.toast.parentElement&&s.toast.parentElement.removeChild(s.toast);s.toast=null}var o=n.div.querySelector(".tc-toast-container");if(!o){(o=document.createElement("div")).classList.add("tc-toast-container");(r.container?r.container:n.div).appendChild(o)}const i=document.createElement("div"),l=document.createElement("span");i.classList.add("tc-toast");i.appendChild(l);const c=document.createElement("p");c.innerHTML=e;i.appendChild(c);i.addEventListener(TC.Consts.event.CLICK,h);o.appendChild(i);s=d[e]={toast:i};var u="";switch(r.type){case TC.Consts.msgType.INFO:u=TC.Consts.classes.INFO;break;case TC.Consts.msgType.WARNING:u=TC.Consts.classes.WARNING;break;case TC.Consts.msgType.ERROR:u=TC.Consts.classes.ERROR}u.length&&s.toast.classList.add(u);s.timeout=setTimeout(function(){h.call(s.toast)},a)};var T=!1,g=function(e){if(/iPad/i.test(navigator.userAgent)){var t=window.innerHeight;e.getBoundingClientRect.height===t+(Modernizr.mq("only screen and (orientation : landscape)")?20:0)&&(T=!0)}var n=function(){Modernizr.mq("only screen and (orientation : landscape)")?e.classList.add(TC.Consts.classes.IPAD_IOS7_FIX):e.classList.remove(TC.Consts.classes.IPAD_IOS7_FIX)};if(T){n();window.addEventListener("resize",n)}else window.removeEventListener("resize",n)},v=function(e){return"string"==typeof e||e.type!==TC.Consts.layerType.VECTOR&&e.type!==TC.Consts.layerType.KML&&e.type!==TC.Consts.layerType.WFS};y.exportImage=function(){var e=null,t="El mapa actual no es compatible con la exportaci\xf3n de im\xe1genes",n=this.wrap.getViewport({synchronous:!0}).getElementsByTagName("canvas")[0];if(n&&this.options.crossOrigin)try{e=n.toDataURL()}catch(e){TC.error(t+": "+e.message)}else TC.error(t);return e}}();
//# sourceMappingURL=maps/Map.min.js.map
